Feature: 동시성 제어
  동일한 캠핑 사이트에 대해 동일한 날짜로 여러 사용자가 동시에 예약을 시도할 때, 시스템은 단 하나의 예약만 성공시키고 나머지 요청은 실패 처리해야 한다.

  Scenario: [정상 케이스]
    When 서른 명의 사용자가 동일한 캠핑 사이트와 날짜로 예약을 시도한다
    Then 하나의 예약만 성공하고 나머지 29개의 예약은 실패한다

Feature: 연박 예약
  사용자가 연박 예약(예: 3박 4일)을 시도할 때, 시작일부터 종료일까지 모든 날짜에 대해 예약 가능 여부를 확인하고, 중간 날짜라도 예약이 불가능한 경우 전체 예약이 실패해야 한다.

  Scenario: [정상 케이스]
    When 사용자가 3박 4일 연박 예약을 시도한다
    Then 예약이 성공한다

  Scenario: 연박 기간 중 일부 날짜가 이미 예약된 경우
    Given 3박 4일 중간 날짜가 이미 예약되어 있다
    When 사용자가 3박 4일 연박 예약을 시도한다
    Then 예약이 실패한다

Feature: 예약 생성
  사용자가 캠핑장 예약을 생성할 때, 필수 정보가 모두 입력되고 날짜 검증을 통과하며, 동일 사이트와 동일 기간에 중복 예약이 불가능해야 한다. 취소된 예약은 중복 체크에서 제외되어야 한다.

  Scenario: [정상 케이스]
    When 사용자가 필수 정보를 모두 입력하고 예약을 시도한다
    Then 예약이 성공한다

  Scenario: 필수 정보가 누락된 경우
    When 사용자가 필수 정보를 누락하고 예약을 시도한다
    Then 예약이 실패한다

  Scenario: 날짜 검증에 실패한 경우
    When 사용자가 필수 정보를 모두 입력하고 오늘로부터 30일 이후 시점에 예약을 시도한다
    Then 예약이 실패한다

  Scenario: 동일 사이트와 기간에 중복 예약이 있는 경우
    Given 특정 사이트와 기간에 예약이 존재한다
    When 사용자가 필수 정보를 모두 입력하고 예약을 시도한다
    Then 예약이 실패한다

  Scenario: 동일 사이트와 기간에 취소된 예약이 있는 경우
    Given 동일 사이트와 기간에 취소된 예약이 존재한다
    When 사용자가 필수 정보를 모두 입력하고 예약을 시도한다
    Then 예약이 성공한다