# 리스크 매트릭스 (Step 1)

## 기준
- 척도: 높음(3) / 보통(2) / 낮음(1)
- 점수 = 임팩트 + 변경빈도 + 버그가능성
- 판단 근거: 코드 정적 분석 + 요구사항 대비 격차

## 평가 결과 (초안)
| 기능 | 임팩트 | 변경빈도 | 버그가능성 | 총점 | 근거(요약) |
|---|---:|---:|---:|---:|---|
| 예약 생성 | 3 | 3 | 3 | **9** | 매출 직결, 검증 누락(30일·과거·전화번호), 동시성 취약 |
| 중복 예약 방지/동시성 | 3 | 2 | 3 | **8** | sleep(100)만 존재, 트랜잭션/락/인덱스 부재 |
| 기간 가용성(연박) | 3 | 2 | 3 | **8** | `/sites/search` 중간 날짜 미검증 버그 |
| 예약 취소(정책/본인확인) | 2 | 2 | 3 | 7 | 코드 검증 O, 환불 계산/정책 미구현, 취소 후 재예약 규칙 위반 가능 |
| 예약 업데이트 | 2 | 2 | 3 | 7 | 변경 시 중복/기간 재검증 부재 |
| 내 예약 조회/검색 | 2 | 2 | 2 | 6 | 개인정보 정합/성능 이슈 가능 |
| 단일일 가용성 | 2 | 2 | 2 | 6 | 기준 일관성 이슈(다른 API와 상이) |
| 월별 달력 | 2 | 1 | 2 | 5 | 전체 조회 후 매핑(성능), 정확도는 수월 |
| 사이트 목록/상세 | 1 | 1 | 1 | 3 | 정적/저위험 |

## Top 3 (Step 2 우선 구현 권장)
1. **예약 생성(9점)** — 유효성(30일/과거/필수값), 중복 범위, 확인코드, 상태코드·메시지 표준화
2. **중복/동시성(8점)** — 유니크 제약/낙관락/비관락/직렬화/쿼리 조건 개선 등
3. **기간 가용성(연박)(8점)** — 구간 **모든 날짜** 검사로 로직 보완, 단일/연박 기준 일관화
