# Top 3 인수 조건

## 1. 동시성 제어
**5W1H 분석**: 사용자 A와 사용자 B가 동시에 같은 캠핑장에 같은 날짜로 예약을 시도할 때, 시스템은 단 하나의 예약만 성공시키고 나머지 요청은 실패 처리해야 한다. 이를 위해 데이터베이스 수준에서의 락킹 메커니즘이나 애플리케이션 레벨에서의 동시성 제어 로직이 필요하다.

**인수 조건**: "동일한 캠핑 사이트에 대해 동일한 날짜로 여러 사용자가 동시에 예약을 시도할 때, 시스템은 단 하나의 예약만 성공시키고 나머지 요청은 실패 처리해야 한다."

**검증 포인트**:
- [ ] 동일한 캠핑 사이트에 대해 동일한 날짜로 두 개 이상의 예약 요청을 동시에 보냈을 때, 하나의 요청만 성공하고 나머지는 실패하는지 확인
- [ ] 예약 성공한 요청의 데이터가 정확히 저장되었는지 확인
- [ ] 실패한 요청에 대해 적절한 오류 메시지가 반환되는지 확인
- [ ] 동시성 제어 로직이 데이터베이스 락킹 메커니즘 또는 애플리케이션 레벨에서 제대로 구현되었는지 확인

## 2. 연박 예약
**5W1H 분석**: 사용자가 3박 4일 동안 캠핑장을 예약하려고 할 때, 시스템은 시작일부터 종료일까지 모든 날짜에 대해 예약 가능 여부를 확인해야 한다. 만약 중간 날짜라도 예약이 불가능한 경우, 전체 예약이 실패해야 한다.

**인수 조건**: "사용자가 연박 예약(예: 3박 4일)을 시도할 때, 시작일부터 종료일까지 모든 날짜에 대해 예약 가능 여부를 확인하고, 중간 날짜라도 예약이 불가능한 경우 전체 예약이 실패해야 한다."

**검증 포인트**:
- [ ] 연박 예약 시 시작일부터 종료일까지 모든 날짜에 대해 예약 가능 여부를 확인하는지 확인
- [ ] 중간 날짜라도 예약이 불가능한 경우 전체 예약이 실패하는지 확인
- [ ] 연박 예약이 성공한 경우, 모든 날짜에 대해 예약이 정확히 저장되었는지 확인

## 3. 예약 생성
**5W1H 분석**: 사용자가 캠핑장 예약을 생성할 때, 필수 정보(예약자 이름, 전화번호, 캠핑 사이트 번호 등)를 모두 입력해야 하며, 날짜 검증(과거 날짜 불가, 종료일이 시작일보다 이전일 수 없음 등)을 통과해야 한다. 또한, 동일 사이트와 동일 기간에 중복 예약이 불가능하며, 취소된 예약은 중복 체크에서 제외되어야 한다.

**인수 조건**: "사용자가 캠핑장 예약을 생성할 때, 필수 정보가 모두 입력되고 날짜 검증을 통과하며, 동일 사이트와 동일 기간에 중복 예약이 불가능해야 한다. 취소된 예약은 중복 체크에서 제외되어야 한다."

**검증 포인트**:
- [ ] 필수 정보(예약자 이름, 전화번호, 캠핑 사이트 번호 등)가 모두 입력되었는지 확인
- [ ] 날짜 검증(과거 날짜 불가, 종료일이 시작일보다 이전일 수 없음 등)을 통과하는지 확인
- [ ] 동일 사이트와 동일 기간에 중복 예약이 불가능한지 확인
- [ ] 취소된 예약은 중복 체크에서 제외되는지 확인
- [ ] 예약 생성 시 예약 수정 및 취소에 필요한 6자리 영숫자 확인 코드가 자동으로 생성

